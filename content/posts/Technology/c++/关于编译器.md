---
title: "关于编译器"
subtitle: ""
date: 2023-04-08T09:21:09+08:00
lastmod: 2023-04-08T09:21:09+08:00
draft: false
authors: []
description: ""

tags: []
categories: []
series: []

hiddenFromHomePage: false
hiddenFromSearch: false

featuredImage: ""
featuredImagePreview: ""

toc:
  enable: true
math:
  enable: false
lightgallery: false
license: ""
---

<!--more-->

## gcc与g++的区别

g++是gcc的升级版，底层实际上还是调用gcc来进行编译的。

- gcc 支持编译c和c++，但是不能自动连接c++的库；
- g++ 支持编译c和c++，但是会把.c当作c++编译，虽然也能编译过，但是一般c++语言检查较严。
- clang
- clang++

## 常用编译task.json和lauch.json

先来看vscode通过c++插件默认生成的task:

```
{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "C/C++: g++ 生成活动文件",
            "command": "/usr/bin/g++",
            "args": [
                "-fdiagnostics-color=always",//彩色错误提示
                "-g",
                "${file}",
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}",
                "-lhv",
                "-lssl"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "调试器生成的任务。"
        }
    ],
    "version": "2.0.0"
}
```

lauch.json:

```
{
    // 使用 IntelliSense 了解相关属性。 
    // 悬停以查看现有属性的描述。
    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "(gdb) 启动",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/main",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "preLaunchTask": "C/C++: g++ 生成活动文件",
            "setupCommands": [
                {
                    "description": "为 gdb 启用整齐打印",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                {
                    "description": "将反汇编风格设置为 Intel",
                    "text": "-gdb-set disassembly-flavor intel",
                    "ignoreFailures": true
                }
            ]
        }

    ]
}
```

## gcc常用参数

|参数|作用|
|---|---|
|-g|指明要编译的目标文件|
|-o|指定产物的path和名称，默认c和c++编译出的玩意都叫a.out|
|-l|链库，需要先安装，比如我这里的hv库和ssl库|
